<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8" />
  <title>Tone JS Test</title>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tone/13.0.1/Tone.min.js"></script>

  <style>
    #button {
      width: 50px;
      padding:5px;
      background-color: rgb(143, 172, 245);
      color:#fff;
      font-weight: bold;
      text-align: center;
      font-family: Arial, Helvetica, sans-serif;
      cursor: pointer;
    }
    #button:hover {
      background-color: rgb(97, 135, 232);
    }
  </style>

  </head>
  <body>

    <h2>Tone JS Test</h2>

    <div id='button'>Play</div>


     <script>
var synth = new Tone.Synth({
    "oscillator" : {
        "type" : "pwm",
        "modulationFrequency" : 0.2
    },
    "envelope" : {
        "attack" : 0.02,
        "decay" : 0.1,
        "sustain" : 0.1,
        "release" : 0.4,
    }
}).toMaster();

//create a synth and connect it to the master output (your speakers)
//var synth = new Tone.Synth().toMaster()

//play a middle 'C' for the duration of an 8th note
//synth.triggerAttackRelease('C4', '8n')
        //console.log(window);
       // var synth = new Tone.AMSynth().toMaster()

        // document.documentElement.addEventListener('mousedown', () => {
        //     if (Tone.context.state !== 'running') Tone.context.resume();
        //   })

        // startNote = (event) => {
        //     synth.triggerAttack(event.target)
        // }
        // endNote = (event) => {
        //     synth.triggerRelease()
        // }

       // console.log(window);

       window.onload = () => {
          //var context = new AudioContext();
          document.getElementById('button').addEventListener('click', () => {
            if (Tone.context.state !== 'running') {
              Tone.context.resume();
            }
           // Tone.Transport.start();
           synth.triggerAttack("D3", "+0.5");

            console.log('clicked');
            });
        }
        </script>
  </body>
</html>